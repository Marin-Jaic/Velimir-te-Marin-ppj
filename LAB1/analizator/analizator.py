from turtle import update
from automat_akcija import *
import sys

def analiza(pocetno_stanje, stanja, akcije):
    trenutno_stanje = pocetno_stanje
    novi_izraz = True

    #retci = sys.stdin.read().splitlines()
    akcije_tracker = []
    updated_akcije_tracker = []

    current_max = 0 #vjerojatno bespotreban
    finalna_akcija = None
    redak_counter = 0

    #Velimir dodatak da bi bilo pokretno

    #retci = sys.stdin.read().split("\n")

    file_object = open('test/input2.txt', 'r')
    retci = file_object.read().split("\n")
    file_object.close()

    for redak in retci:
        redak_counter += 1
        novi_redak = False
        pocetni_index = 0
        i = 0

        while(i < len(redak)):

            if(novi_izraz): #PRIPREMA ZA OBRADU NOVOG NIZA
                akcije_tracker = [] #resettamo tracker
                current_max = 0
                pocetni_index = i
                finalna_akcija = None

                for akcija in akcije:
                    if akcija.stanje == trenutno_stanje:
                        akcija.automat.reset()
                        akcija.automat.epsilon_prijelaz()
                        akcije_tracker += [[akcija, 0]]

                novi_izraz = False

            index = 0
            max_updated = False
            

            for tracker in akcije_tracker:  #Parsiranje niza kroz sve moguÄ‡e automate

                if tracker[0].automat.prijelaz(redak[i]):   #postoji li prijelaz za akciju s trenutnim znakom
                    tracker[1] += 1 
                    updated_akcije_tracker.append(tracker)

                    # if current_max < tracker[1]:
                    #     current_max = tracker[1]
                    #     updated_akcije_tracker.append(tracker)
                    #     max_updated = True
                    # elif max_updated and current_max == tracker[1]:
                    #     updated_akcije_tracker.append(tracker)

                #iz elif u if
                if tracker[0].automat.izraz_prihvacen and current_max < tracker[1] or tracker[0].automat.izraz_prihvacen and current_max == tracker[1] and int(finalna_akcija.id) > int(tracker[0].id): 
                    finalna_akcija = tracker[0] #ne postoji, provjeravamo je li niz prihvacen na zadnjem znaku i je li njegova duljina duza od najvece zabiljezene
                    current_max = tracker[1]
            
            if not len(updated_akcije_tracker) and current_max != i - pocetni_index:
                #nema prijelaza i ne postoji definirana finalna akcija -> greske
                print(redak[pocetni_index], file = sys.stderr)
                i = pocetni_index + 1
                novi_izraz = True

            
            elif not len(updated_akcije_tracker) and finalna_akcija is not None: #Nema vise mogucih prijelaza, nece biti daljnje finalne akcije, drugi uvjet je testan
                if int(finalna_akcija.vrati_se):
                    i = pocetni_index + int(finalna_akcija.vrati_se)
                
                if finalna_akcija.udji_u_stanje is not None:
                    trenutno_stanje = finalna_akcija.udji_u_stanje

                if finalna_akcija.lex != "":
                    gas = 0
                    #OBRADA LEKSICKE JEDINKE I ZAPIS MOZDA IDFK MORAM JOS RAZRADIT
                    print(finalna_akcija.lex + " " + str(redak_counter) + " " + redak[pocetni_index:i])

                if finalna_akcija.novi_redak:
                    novi_redak = True
                
                novi_izraz = True

            else:   #ima prijelaza u akcijama spremljenima u updated_ackije_tracker, prenosimo ih u akcije_tracker
                i += 1
                #print(updated_akcije_tracker, finalna_akcija)
                akcije_tracker = updated_akcije_tracker[:]
                updated_akcije_tracker = []
        
        if novi_redak:
            continue


pocetno_stanje = "S_pocetno"
stanja = ["S_pocetno", "S_komentar", "S_unarni"]
akcije = []
akcije += [Akcija(0, "S_pocetno", "\\t|\\_", "", False, None, 0, Automat({4: {"\t": [5]}, 2: {"$": [4]}, 5: {"$": [3]}, 0: {"$": [2, 6]}, 3: {"$": [1]}, 8: {" ": [9]}, 6: {"$": [8]}, 9: {"$": [7]}, 7: {"$": [1]}}), 0, 1)]
akcije += [Akcija(1, "S_pocetno", "\\n", "", True, None, 0, Automat({2: {"\n": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(2, "S_pocetno", "#\\|", "", False, "S_komentar", 0, Automat({2: {"#": [3]}, 0: {"$": [2]}, 4: {"|": [5]}, 3: {"$": [4]}, 5: {"$": [1]}}), 0, 1)]
akcije += [Akcija(3, "S_komentar", "\\|#", "", False, "S_pocetno", 0, Automat({2: {"|": [3]}, 0: {"$": [2]}, 4: {"#": [5]}, 3: {"$": [4]}, 5: {"$": [1]}}), 0, 1)]
akcije += [Akcija(4, "S_komentar", "\\n", "", True, None, 0, Automat({2: {"\n": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(5, "S_komentar", "(\\(|\\)|\\{|\\}|\\||\\*|\\\\|\\$|\\t|\\n|\\_|!|\"|#|%|&|'|+|,|-|.|/|0|1|2|3|4|5|6|7|8|9|:|;|<|=|>|?|@|A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z|[|]|^|_|`|a|b|c|d|e|f|g|h|i|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z|~)", "", False, None, 0, Automat({6: {"(": [7]}, 4: {"$": [6]}, 7: {"$": [5]}, 2: {"$": [4, 8, 12, 16, 20, 24, 28, 32, 36, 40, 44, 48, 52, 56, 60, 64, 68, 72, 76, 80, 84, 88, 92, 96, 100, 104, 108, 112, 116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 172, 176, 180, 184, 188, 192, 196, 200, 204, 208, 212, 216, 220, 224, 228, 232, 236, 240, 244, 248, 252, 256, 260, 264, 268, 272, 276, 280, 284, 288, 292, 296, 300, 304, 308, 312, 316, 320, 324, 328, 332, 336, 340, 344, 348, 352, 356, 360, 364, 368, 372, 376, 380, 384, 388]}, 5: {"$": [3]}, 10: {")": [11]}, 8: {"$": [10]}, 11: {"$": [9]}, 9: {"$": [3]}, 14: {"{": [15]}, 12: {"$": [14]}, 15: {"$": [13]}, 13: {"$": [3]}, 18: {"}": [19]}, 16: {"$": [18]}, 19: {"$": [17]}, 17: {"$": [3]}, 22: {"|": [23]}, 20: {"$": [22]}, 23: {"$": [21]}, 21: {"$": [3]}, 26: {"*": [27]}, 24: {"$": [26]}, 27: {"$": [25]}, 25: {"$": [3]}, 30: {"\\": [31]}, 28: {"$": [30]}, 31: {"$": [29]}, 29: {"$": [3]}, 34: {"$": [35]}, 32: {"$": [34]}, 35: {"$": [33]}, 33: {"$": [3]}, 38: {"\t": [39]}, 36: {"$": [38]}, 39: {"$": [37]}, 37: {"$": [3]}, 42: {"\n": [43]}, 40: {"$": [42]}, 43: {"$": [41]}, 41: {"$": [3]}, 46: {" ": [47]}, 44: {"$": [46]}, 47: {"$": [45]}, 45: {"$": [3]}, 50: {"!": [51]}, 48: {"$": [50]}, 51: {"$": [49]}, 49: {"$": [3]}, 54: {"\"": [55]}, 52: {"$": [54]}, 55: {"$": [53]}, 53: {"$": [3]}, 58: {"#": [59]}, 56: {"$": [58]}, 59: {"$": [57]}, 57: {"$": [3]}, 62: {"%": [63]}, 60: {"$": [62]}, 63: {"$": [61]}, 61: {"$": [3]}, 66: {"&": [67]}, 64: {"$": [66]}, 67: {"$": [65]}, 65: {"$": [3]}, 70: {"'": [71]}, 68: {"$": [70]}, 71: {"$": [69]}, 69: {"$": [3]}, 74: {"+": [75]}, 72: {"$": [74]}, 75: {"$": [73]}, 73: {"$": [3]}, 78: {",": [79]}, 76: {"$": [78]}, 79: {"$": [77]}, 77: {"$": [3]}, 82: {"-": [83]}, 80: {"$": [82]}, 83: {"$": [81]}, 81: {"$": [3]}, 86: {".": [87]}, 84: {"$": [86]}, 87: {"$": [85]}, 85: {"$": [3]}, 90: {"/": [91]}, 88: {"$": [90]}, 91: {"$": [89]}, 89: {"$": [3]}, 94: {0: [95]}, 92: {"$": [94]}, 95: {"$": [93]}, 93: {"$": [3]}, 98: {1: [99]}, 96: {"$": [98]}, 99: {"$": [97]}, 97: {"$": [3]}, 102: {2: [103]}, 100: {"$": [102]}, 103: {"$": [101]}, 101: {"$": [3]}, 106: {3: [107]}, 104: {"$": [106]}, 107: {"$": [105]}, 105: {"$": [3]}, 110: {4: [111]}, 108: {"$": [110]}, 111: {"$": [109]}, 109: {"$": [3]}, 114: {5: [115]}, 112: {"$": [114]}, 115: {"$": [113]}, 113: {"$": [3]}, 118: {6: [119]}, 116: {"$": [118]}, 119: {"$": [117]}, 117: {"$": [3]}, 122: {7: [123]}, 120: {"$": [122]}, 123: {"$": [121]}, 121: {"$": [3]}, 126: {8: [127]}, 124: {"$": [126]}, 127: {"$": [125]}, 125: {"$": [3]}, 130: {9: [131]}, 128: {"$": [130]}, 131: {"$": [129]}, 129: {"$": [3]}, 134: {":": [135]}, 132: {"$": [134]}, 135: {"$": [133]}, 133: {"$": [3]}, 138: {";": [139]}, 136: {"$": [138]}, 139: {"$": [137]}, 137: {"$": [3]}, 142: {"<": [143]}, 140: {"$": [142]}, 143: {"$": [141]}, 141: {"$": [3]}, 146: {"=": [147]}, 144: {"$": [146]}, 147: {"$": [145]}, 145: {"$": [3]}, 150: {">": [151]}, 148: {"$": [150]}, 151: {"$": [149]}, 149: {"$": [3]}, 154: {"?": [155]}, 152: {"$": [154]}, 155: {"$": [153]}, 153: {"$": [3]}, 158: {"@": [159]}, 156: {"$": [158]}, 159: {"$": [157]}, 157: {"$": [3]}, 162: {"A": [163]}, 160: {"$": [162]}, 163: {"$": [161]}, 161: {"$": [3]}, 166: {"B": [167]}, 164: {"$": [166]}, 167: {"$": [165]}, 165: {"$": [3]}, 170: {"C": [171]}, 168: {"$": [170]}, 171: {"$": [169]}, 169: {"$": [3]}, 174: {"D": [175]}, 172: {"$": [174]}, 175: {"$": [173]}, 173: {"$": [3]}, 178: {"E": [179]}, 176: {"$": [178]}, 179: {"$": [177]}, 177: {"$": [3]}, 182: {"F": [183]}, 180: {"$": [182]}, 183: {"$": [181]}, 181: {"$": [3]}, 186: {"G": [187]}, 184: {"$": [186]}, 187: {"$": [185]}, 185: {"$": [3]}, 190: {"H": [191]}, 188: {"$": [190]}, 191: {"$": [189]}, 189: {"$": [3]}, 194: {"I": [195]}, 192: {"$": [194]}, 195: {"$": [193]}, 193: {"$": [3]}, 198: {"J": [199]}, 196: {"$": [198]}, 199: {"$": [197]}, 197: {"$": [3]}, 202: {"K": [203]}, 200: {"$": [202]}, 203: {"$": [201]}, 201: {"$": [3]}, 206: {"L": [207]}, 204: {"$": [206]}, 207: {"$": [205]}, 205: {"$": [3]}, 210: {"M": [211]}, 208: {"$": [210]}, 211: {"$": [209]}, 209: {"$": [3]}, 214: {"N": [215]}, 212: {"$": [214]}, 215: {"$": [213]}, 213: {"$": [3]}, 218: {"O": [219]}, 216: {"$": [218]}, 219: {"$": [217]}, 217: {"$": [3]}, 222: {"P": [223]}, 220: {"$": [222]}, 223: {"$": [221]}, 221: {"$": [3]}, 226: {"Q": [227]}, 224: {"$": [226]}, 227: {"$": [225]}, 225: {"$": [3]}, 230: {"R": [231]}, 228: {"$": [230]}, 231: {"$": [229]}, 229: {"$": [3]}, 234: {"S": [235]}, 232: {"$": [234]}, 235: {"$": [233]}, 233: {"$": [3]}, 238: {"T": [239]}, 236: {"$": [238]}, 239: {"$": [237]}, 237: {"$": [3]}, 242: {"U": [243]}, 240: {"$": [242]}, 243: {"$": [241]}, 241: {"$": [3]}, 246: {"V": [247]}, 244: {"$": [246]}, 247: {"$": [245]}, 245: {"$": [3]}, 250: {"W": [251]}, 248: {"$": [250]}, 251: {"$": [249]}, 249: {"$": [3]}, 254: {"X": [255]}, 252: {"$": [254]}, 255: {"$": [253]}, 253: {"$": [3]}, 258: {"Y": [259]}, 256: {"$": [258]}, 259: {"$": [257]}, 257: {"$": [3]}, 262: {"Z": [263]}, 260: {"$": [262]}, 263: {"$": [261]}, 261: {"$": [3]}, 266: {"[": [267]}, 264: {"$": [266]}, 267: {"$": [265]}, 265: {"$": [3]}, 270: {"]": [271]}, 268: {"$": [270]}, 271: {"$": [269]}, 269: {"$": [3]}, 274: {"^": [275]}, 272: {"$": [274]}, 275: {"$": [273]}, 273: {"$": [3]}, 278: {"_": [279]}, 276: {"$": [278]}, 279: {"$": [277]}, 277: {"$": [3]}, 282: {"`": [283]}, 280: {"$": [282]}, 283: {"$": [281]}, 281: {"$": [3]}, 286: {"a": [287]}, 284: {"$": [286]}, 287: {"$": [285]}, 285: {"$": [3]}, 290: {"b": [291]}, 288: {"$": [290]}, 291: {"$": [289]}, 289: {"$": [3]}, 294: {"c": [295]}, 292: {"$": [294]}, 295: {"$": [293]}, 293: {"$": [3]}, 298: {"d": [299]}, 296: {"$": [298]}, 299: {"$": [297]}, 297: {"$": [3]}, 302: {"e": [303]}, 300: {"$": [302]}, 303: {"$": [301]}, 301: {"$": [3]}, 306: {"f": [307]}, 304: {"$": [306]}, 307: {"$": [305]}, 305: {"$": [3]}, 310: {"g": [311]}, 308: {"$": [310]}, 311: {"$": [309]}, 309: {"$": [3]}, 314: {"h": [315]}, 312: {"$": [314]}, 315: {"$": [313]}, 313: {"$": [3]}, 318: {"i": [319]}, 316: {"$": [318]}, 319: {"$": [317]}, 317: {"$": [3]}, 322: {"j": [323]}, 320: {"$": [322]}, 323: {"$": [321]}, 321: {"$": [3]}, 326: {"k": [327]}, 324: {"$": [326]}, 327: {"$": [325]}, 325: {"$": [3]}, 330: {"l": [331]}, 328: {"$": [330]}, 331: {"$": [329]}, 329: {"$": [3]}, 334: {"m": [335]}, 332: {"$": [334]}, 335: {"$": [333]}, 333: {"$": [3]}, 338: {"n": [339]}, 336: {"$": [338]}, 339: {"$": [337]}, 337: {"$": [3]}, 342: {"o": [343]}, 340: {"$": [342]}, 343: {"$": [341]}, 341: {"$": [3]}, 346: {"p": [347]}, 344: {"$": [346]}, 347: {"$": [345]}, 345: {"$": [3]}, 350: {"q": [351]}, 348: {"$": [350]}, 351: {"$": [349]}, 349: {"$": [3]}, 354: {"r": [355]}, 352: {"$": [354]}, 355: {"$": [353]}, 353: {"$": [3]}, 358: {"s": [359]}, 356: {"$": [358]}, 359: {"$": [357]}, 357: {"$": [3]}, 362: {"t": [363]}, 360: {"$": [362]}, 363: {"$": [361]}, 361: {"$": [3]}, 366: {"u": [367]}, 364: {"$": [366]}, 367: {"$": [365]}, 365: {"$": [3]}, 370: {"v": [371]}, 368: {"$": [370]}, 371: {"$": [369]}, 369: {"$": [3]}, 374: {"w": [375]}, 372: {"$": [374]}, 375: {"$": [373]}, 373: {"$": [3]}, 378: {"x": [379]}, 376: {"$": [378]}, 379: {"$": [377]}, 377: {"$": [3]}, 382: {"y": [383]}, 380: {"$": [382]}, 383: {"$": [381]}, 381: {"$": [3]}, 386: {"z": [387]}, 384: {"$": [386]}, 387: {"$": [385]}, 385: {"$": [3]}, 390: {"~": [391]}, 388: {"$": [390]}, 391: {"$": [389]}, 389: {"$": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(6, "S_pocetno", "((0|1|2|3|4|5|6|7|8|9)(0|1|2|3|4|5|6|7|8|9)*|0x((0|1|2|3|4|5|6|7|8|9)|a|b|c|d|e|f|A|B|C|D|E|F)((0|1|2|3|4|5|6|7|8|9)|a|b|c|d|e|f|A|B|C|D|E|F)*)", "OPERAND", False, None, 0, Automat({10: {0: [11]}, 8: {"$": [10]}, 11: {"$": [9]}, 6: {"$": [8, 12, 16, 20, 24, 28, 32, 36, 40, 44]}, 9: {"$": [7]}, 14: {1: [15]}, 12: {"$": [14]}, 15: {"$": [13]}, 13: {"$": [7]}, 18: {2: [19]}, 16: {"$": [18]}, 19: {"$": [17]}, 17: {"$": [7]}, 22: {3: [23]}, 20: {"$": [22]}, 23: {"$": [21]}, 21: {"$": [7]}, 26: {4: [27]}, 24: {"$": [26]}, 27: {"$": [25]}, 25: {"$": [7]}, 30: {5: [31]}, 28: {"$": [30]}, 31: {"$": [29]}, 29: {"$": [7]}, 34: {6: [35]}, 32: {"$": [34]}, 35: {"$": [33]}, 33: {"$": [7]}, 38: {7: [39]}, 36: {"$": [38]}, 39: {"$": [37]}, 37: {"$": [7]}, 42: {8: [43]}, 40: {"$": [42]}, 43: {"$": [41]}, 41: {"$": [7]}, 46: {9: [47]}, 44: {"$": [46]}, 47: {"$": [45]}, 45: {"$": [7]}, 4: {"$": [6]}, 52: {0: [53]}, 50: {"$": [52]}, 53: {"$": [51]}, 48: {"$": [50, 54, 58, 62, 66, 70, 74, 78, 82, 86]}, 51: {"$": [49]}, 56: {1: [57]}, 54: {"$": [56]}, 57: {"$": [55]}, 55: {"$": [49]}, 60: {2: [61]}, 58: {"$": [60]}, 61: {"$": [59]}, 59: {"$": [49]}, 64: {3: [65]}, 62: {"$": [64]}, 65: {"$": [63]}, 63: {"$": [49]}, 68: {4: [69]}, 66: {"$": [68]}, 69: {"$": [67]}, 67: {"$": [49]}, 72: {5: [73]}, 70: {"$": [72]}, 73: {"$": [71]}, 71: {"$": [49]}, 76: {6: [77]}, 74: {"$": [76]}, 77: {"$": [75]}, 75: {"$": [49]}, 80: {7: [81]}, 78: {"$": [80]}, 81: {"$": [79]}, 79: {"$": [49]}, 84: {8: [85]}, 82: {"$": [84]}, 85: {"$": [83]}, 83: {"$": [49]}, 88: {9: [89]}, 86: {"$": [88]}, 89: {"$": [87]}, 87: {"$": [49]}, 90: {"$": [48, 91]}, 49: {"$": [91, 48]}, 7: {"$": [90]}, 91: {"$": [5]}, 2: {"$": [4, 92]}, 5: {"$": [3]}, 94: {0: [95]}, 92: {"$": [94]}, 96: {"x": [97]}, 95: {"$": [96]}, 106: {0: [107]}, 104: {"$": [106]}, 107: {"$": [105]}, 102: {"$": [104, 108, 112, 116, 120, 124, 128, 132, 136, 140]}, 105: {"$": [103]}, 110: {1: [111]}, 108: {"$": [110]}, 111: {"$": [109]}, 109: {"$": [103]}, 114: {2: [115]}, 112: {"$": [114]}, 115: {"$": [113]}, 113: {"$": [103]}, 118: {3: [119]}, 116: {"$": [118]}, 119: {"$": [117]}, 117: {"$": [103]}, 122: {4: [123]}, 120: {"$": [122]}, 123: {"$": [121]}, 121: {"$": [103]}, 126: {5: [127]}, 124: {"$": [126]}, 127: {"$": [125]}, 125: {"$": [103]}, 130: {6: [131]}, 128: {"$": [130]}, 131: {"$": [129]}, 129: {"$": [103]}, 134: {7: [135]}, 132: {"$": [134]}, 135: {"$": [133]}, 133: {"$": [103]}, 138: {8: [139]}, 136: {"$": [138]}, 139: {"$": [137]}, 137: {"$": [103]}, 142: {9: [143]}, 140: {"$": [142]}, 143: {"$": [141]}, 141: {"$": [103]}, 100: {"$": [102]}, 103: {"$": [101]}, 98: {"$": [100, 144, 148, 152, 156, 160, 164, 168, 172, 176, 180, 184, 188]}, 101: {"$": [99]}, 146: {"a": [147]}, 144: {"$": [146]}, 147: {"$": [145]}, 145: {"$": [99]}, 150: {"b": [151]}, 148: {"$": [150]}, 151: {"$": [149]}, 149: {"$": [99]}, 154: {"c": [155]}, 152: {"$": [154]}, 155: {"$": [153]}, 153: {"$": [99]}, 158: {"d": [159]}, 156: {"$": [158]}, 159: {"$": [157]}, 157: {"$": [99]}, 162: {"e": [163]}, 160: {"$": [162]}, 163: {"$": [161]}, 161: {"$": [99]}, 166: {"f": [167]}, 164: {"$": [166]}, 167: {"$": [165]}, 165: {"$": [99]}, 170: {"A": [171]}, 168: {"$": [170]}, 171: {"$": [169]}, 169: {"$": [99]}, 174: {"B": [175]}, 172: {"$": [174]}, 175: {"$": [173]}, 173: {"$": [99]}, 178: {"C": [179]}, 176: {"$": [178]}, 179: {"$": [177]}, 177: {"$": [99]}, 182: {"D": [183]}, 180: {"$": [182]}, 183: {"$": [181]}, 181: {"$": [99]}, 186: {"E": [187]}, 184: {"$": [186]}, 187: {"$": [185]}, 185: {"$": [99]}, 190: {"F": [191]}, 188: {"$": [190]}, 191: {"$": [189]}, 189: {"$": [99]}, 97: {"$": [98]}, 200: {0: [201]}, 198: {"$": [200]}, 201: {"$": [199]}, 196: {"$": [198, 202, 206, 210, 214, 218, 222, 226, 230, 234]}, 199: {"$": [197]}, 204: {1: [205]}, 202: {"$": [204]}, 205: {"$": [203]}, 203: {"$": [197]}, 208: {2: [209]}, 206: {"$": [208]}, 209: {"$": [207]}, 207: {"$": [197]}, 212: {3: [213]}, 210: {"$": [212]}, 213: {"$": [211]}, 211: {"$": [197]}, 216: {4: [217]}, 214: {"$": [216]}, 217: {"$": [215]}, 215: {"$": [197]}, 220: {5: [221]}, 218: {"$": [220]}, 221: {"$": [219]}, 219: {"$": [197]}, 224: {6: [225]}, 222: {"$": [224]}, 225: {"$": [223]}, 223: {"$": [197]}, 228: {7: [229]}, 226: {"$": [228]}, 229: {"$": [227]}, 227: {"$": [197]}, 232: {8: [233]}, 230: {"$": [232]}, 233: {"$": [231]}, 231: {"$": [197]}, 236: {9: [237]}, 234: {"$": [236]}, 237: {"$": [235]}, 235: {"$": [197]}, 194: {"$": [196]}, 197: {"$": [195]}, 192: {"$": [194, 238, 242, 246, 250, 254, 258, 262, 266, 270, 274, 278, 282]}, 195: {"$": [193]}, 240: {"a": [241]}, 238: {"$": [240]}, 241: {"$": [239]}, 239: {"$": [193]}, 244: {"b": [245]}, 242: {"$": [244]}, 245: {"$": [243]}, 243: {"$": [193]}, 248: {"c": [249]}, 246: {"$": [248]}, 249: {"$": [247]}, 247: {"$": [193]}, 252: {"d": [253]}, 250: {"$": [252]}, 253: {"$": [251]}, 251: {"$": [193]}, 256: {"e": [257]}, 254: {"$": [256]}, 257: {"$": [255]}, 255: {"$": [193]}, 260: {"f": [261]}, 258: {"$": [260]}, 261: {"$": [259]}, 259: {"$": [193]}, 264: {"A": [265]}, 262: {"$": [264]}, 265: {"$": [263]}, 263: {"$": [193]}, 268: {"B": [269]}, 266: {"$": [268]}, 269: {"$": [267]}, 267: {"$": [193]}, 272: {"C": [273]}, 270: {"$": [272]}, 273: {"$": [271]}, 271: {"$": [193]}, 276: {"D": [277]}, 274: {"$": [276]}, 277: {"$": [275]}, 275: {"$": [193]}, 280: {"E": [281]}, 278: {"$": [280]}, 281: {"$": [279]}, 279: {"$": [193]}, 284: {"F": [285]}, 282: {"$": [284]}, 285: {"$": [283]}, 283: {"$": [193]}, 286: {"$": [192, 287]}, 193: {"$": [287, 192]}, 99: {"$": [286]}, 287: {"$": [93]}, 93: {"$": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(7, "S_pocetno", "\\(", "LIJEVA_ZAGRADA", False, None, 0, Automat({2: {"(": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(8, "S_pocetno", "\\)", "DESNA_ZAGRADA", False, None, 0, Automat({2: {")": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(9, "S_pocetno", "-", "OP_MINUS", False, None, 0, Automat({2: {"-": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(10, "S_pocetno", "-(\\t|\\n|\\_)*-", "OP_MINUS", False, "S_unarni", "1", Automat({2: {"-": [3]}, 0: {"$": [2]}, 8: {"\t": [9]}, 6: {"$": [8]}, 9: {"$": [7]}, 4: {"$": [6, 10, 14]}, 7: {"$": [5]}, 12: {"\n": [13]}, 10: {"$": [12]}, 13: {"$": [11]}, 11: {"$": [5]}, 16: {" ": [17]}, 14: {"$": [16]}, 17: {"$": [15]}, 15: {"$": [5]}, 18: {"$": [4, 19]}, 5: {"$": [19, 4]}, 3: {"$": [18]}, 20: {"-": [21]}, 19: {"$": [20]}, 21: {"$": [1]}}), 0, 1)]
akcije += [Akcija(11, "S_pocetno", "\\((\\t|\\n|\\_)*-", "LIJEVA_ZAGRADA", False, "S_unarni", "1", Automat({2: {"(": [3]}, 0: {"$": [2]}, 8: {"\t": [9]}, 6: {"$": [8]}, 9: {"$": [7]}, 4: {"$": [6, 10, 14]}, 7: {"$": [5]}, 12: {"\n": [13]}, 10: {"$": [12]}, 13: {"$": [11]}, 11: {"$": [5]}, 16: {" ": [17]}, 14: {"$": [16]}, 17: {"$": [15]}, 15: {"$": [5]}, 18: {"$": [4, 19]}, 5: {"$": [19, 4]}, 3: {"$": [18]}, 20: {"-": [21]}, 19: {"$": [20]}, 21: {"$": [1]}}), 0, 1)]
akcije += [Akcija(12, "S_unarni", "\\t|\\_", "", False, None, 0, Automat({4: {"\t": [5]}, 2: {"$": [4]}, 5: {"$": [3]}, 0: {"$": [2, 6]}, 3: {"$": [1]}, 8: {" ": [9]}, 6: {"$": [8]}, 9: {"$": [7]}, 7: {"$": [1]}}), 0, 1)]
akcije += [Akcija(13, "S_unarni", "\\n", "", True, None, 0, Automat({2: {"\n": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(14, "S_unarni", "-", "UMINUS", False, "S_pocetno", 0, Automat({2: {"-": [3]}, 0: {"$": [2]}, 3: {"$": [1]}}), 0, 1)]
akcije += [Akcija(15, "S_unarni", "-(\\t|\\n|\\_)*-", "UMINUS", False, None, "1", Automat({2: {"-": [3]}, 0: {"$": [2]}, 8: {"\t": [9]}, 6: {"$": [8]}, 9: {"$": [7]}, 4: {"$": [6, 10, 14]}, 7: {"$": [5]}, 12: {"\n": [13]}, 10: {"$": [12]}, 13: {"$": [11]}, 11: {"$": [5]}, 16: {" ": [17]}, 14: {"$": [16]}, 17: {"$": [15]}, 15: {"$": [5]}, 18: {"$": [4, 19]}, 5: {"$": [19, 4]}, 3: {"$": [18]}, 20: {"-": [21]}, 19: {"$": [20]}, 21: {"$": [1]}}), 0, 1)]

analiza(pocetno_stanje, stanja, akcije)